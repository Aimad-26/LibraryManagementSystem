{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Book | Library Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}?v=3">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="dashboard-page">

<div class="dashboard-layout">
    <aside class="dashboard-sidebar">
        <div class="sidebar-logo">
            <img src="{{ MEDIA_URL }}{{ logo_image }}" alt="Logo" class="logo-img">
        </div>
        <nav class="sidebar-nav">
            <p class="sidebar-section-label">MANAGEMENT</p>
            <a href="{% url 'dashboard' %}" class="sidebar-link">Dashboard</a>
            <a href="{% url 'books_list' %}" class="sidebar-link active">üìö Books List</a>
            <a href="{% url 'add_book' %}" class="sidebar-link">+ New Book</a>
        </nav>
    </aside>

    <main class="dashboard-main">
        <div class="dashboard-main-inner">
            <header class="topbar">
                <div class="topbar-search"><span class="text-muted">Catalogue / <strong>Edit Book</strong></span></div>
                <div class="topbar-user"><span class="topbar-username">{{ username }}</span><div class="topbar-avatar-btn">üë§</div></div>
            </header>

            <section class="hero-banner">
                <div class="hero-text-block">
                    <p class="hero-eyebrow">Inventory Editor</p>
                    <h1 class="hero-title">üìù Modifier : {{ book.title }}</h1>
                    <p class="hero-subtitle">Mettez √† jour les m√©tadonn√©es ou les niveaux de stock gRPC.</p>
                </div>
            </section>

            <section class="dashboard-section p-4">
                <div class="row justify-content-center">
                    <div class="col-lg-10">
                        <div class="card border-0 shadow-sm rounded-4 p-4 p-md-5 bg-white">
                            <form method="POST">
                                {% csrf_token %}
                                
                                <div class="row g-4">
                                    <div class="col-md-12">
                                        <label class="form-label fw-bold">Titre du livre</label>
                                        <input type="text" name="title" class="form-control form-control-lg" value="{{ book.title }}" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">Auteur</label>
                                        <input type="text" name="author" class="form-control form-control-lg" value="{{ book.author }}" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">Code ISBN</label>
                                        <input type="text" name="isbn" class="form-control form-control-lg" value="{{ book.isbn }}" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold text-primary">Stock Total (Copies)</label>
                                        <input type="number" name="total_copies" class="form-control form-control-lg" value="{{ book.total_copies }}" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold text-success">Disponibles en rayon</label>
                                        <input type="number" name="available_copies" class="form-control form-control-lg" value="{{ book.available_copies }}" required>
                                    </div>
                                </div>

                                <div class="d-grid gap-3 mt-5">
                                    <button type="submit" class="btn btn-primary btn-lg fw-bold shadow-sm">
                                        üíæ ENREGISTRER LES MODIFICATIONS
                                    </button>
                                    <a href="{% url 'books_list' %}" class="btn btn-outline-secondary py-2 border-0">
                                        Annuler et retourner √† la liste
                                    </a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
</div>
</body>
</html>